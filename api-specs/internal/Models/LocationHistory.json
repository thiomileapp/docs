{
  "components": {
    "schemas": {
      "LocationHistoryInternal": {
        "type": "object",
        "description": "Location history object with comprehensive tracking and administrative details",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Unique identifier for the location history entry",
            "example": "634e98098ce07d29474a7e22_example@mile.app_1675224349343"
          },
          "organizationId": {
            "type": "string",
            "description": "Unique identifier for the organization",
            "example": "634e98098ce07d29474a7e22"
          },
          "email": {
            "type": "string",
            "description": "User's email assigned to the monitored task",
            "example": "example@mile.app"
          },
          "taskId": {
            "type": "string",
            "description": "Unique ID to identify the task",
            "example": "634e98098ce69d29474a7e11"
          },
          "lat": {
            "type": "number",
            "description": "Latitude coordinate position",
            "example": -6.1771046
          },
          "lon": {
            "type": "number",
            "description": "Longitude coordinate position",
            "example": 106.9240199
          },
          "speed": {
            "type": "integer",
            "description": "Vehicle speed in kilometers per hour",
            "example": 40
          },
          "distance": {
            "type": "integer",
            "description": "Distance traveled from the previous location",
            "example": 50
          },
          "distanceToDest": {
            "type": "number",
            "description": "Distance estimated from the next location",
            "example": 120.5
          },
          "duration": {
            "type": "integer",
            "description": "Time duration spent at this location in milliseconds",
            "example": 50
          },
          "time": {
            "type": "integer",
            "description": "A timestamp indicating the time of the location history entry",
            "example": 1675224349343
          },
          "createdTime": {
            "type": "string",
            "description": "Time at which the location history was created",
            "example": "2022-10-07 03:00:58"
          },
          "updatedTime": {
            "type": "string",
            "description": "Time at which the location history entry was last updated",
            "example": "2022-10-07 04:00:58"
          },
          "eventName": {
            "type": "string",
            "description": "A flagging of location history with value otw, nearBy and done",
            "example": "otw"
          },
          "isLatest": {
            "type": "boolean",
            "description": "Identifier for flagging the latest location history",
            "example": true
          },
          "createdFrom": {
            "type": "string",
            "description": "A flagging for describe location history created from, default value generated by system is `mileAppField`",
            "example": "GPS"
          },
          "updatedBy": {
            "type": "string",
            "description": "Email of the user who last updated the location history entry",
            "example": "admin@mile.app"
          },
          "createdBy": {
            "type": "string",
            "description": "Email of the user who created the location history entry",
            "example": "field@mile.app"
          },
          "startTime": {
            "type": "string",
            "description": "Time at which the start working was created. Include this payload when starting work",
            "example": "2022-10-07 03:00:58"
          },
          "finishTime": {
            "type": "string",
            "description": "Time at which the finish working was created. Include this payload when finishing work",
            "example": "2022-10-07 05:00:58"
          },
          "notes": {
            "type": "string",
            "description": "Field for written records used to capture and retain important information",
            "example": "Task completed successfully"
          },
          "data": {
            "type": "object",
            "description": "This is a free object that you can fill with any data in object format",
            "example": {
              "temperature": 31,
              "anotherKey": "anotherValue"
            }
          },
          "finish": {
            "type": "object",
            "description": "Contains object data when the user has finished working",
            "properties": {
              "lat": {
                "type": "number",
                "description": "Finish latitude coordinate"
              },
              "lon": {
                "type": "number",
                "description": "Finish longitude coordinate"
              },
              "finishTime": {
                "type": "string",
                "description": "Time when work was finished"
              },
              "notes": {
                "type": "string",
                "description": "Optional finish notes"
              },
              "totalDistance": {
                "type": "number",
                "description": "Total distance traveled (auto-generated)"
              },
              "totalDuration": {
                "type": "number",
                "description": "Total duration in milliseconds (auto-generated)"
              }
            }
          },
          "trackedTime": {
            "type": "number",
            "description": "Time tracked from start to finish in minutes",
            "example": 60
          },
          "deletedTime": {
            "type": "string",
            "description": "Time at which the location history was deleted",
            "example": "2022-10-07 06:00:58"
          },
          "isDeleted": {
            "type": "boolean",
            "description": "Soft delete flag indicating if location history is deleted",
            "example": false
          },
          "metadata": {
            "type": "object",
            "description": "Additional metadata for internal system use",
            "properties": {
              "migrationStatus": {"type": "string"},
              "dataVersion": {"type": "integer"},
              "lastSyncTime": {"type": "string", "format": "date-time"}
            }
          },
          "failedCode": {
            "type": "string",
            "description": "Location History Module business failedCode that indicate specific failure conditions or business rule violations during location history module operations. These codes help identify the failed operation of location history-related and provide standardized failure identification across the system.\n\nPossible values:\n- lochi-032: Invalid state/condition - Location history state invalid\n- lochi-033: Location history not found - Location history does not exist\n- lochi-035: Access forbidden - User lacks location history permission\n- lochi-040: Limit exceeded - Location history limit exceeded\n- lochi-045: Server failure - Internal server failure",
            "enum": [
              "lochi-032",
              "lochi-033",
              "lochi-035",
              "lochi-040",
              "lochi-045"
            ]
          }
        }
      }
    }
  }
}