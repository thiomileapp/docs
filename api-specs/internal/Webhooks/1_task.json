{
    "x-webhooks": {
        "on-task": {
            "post": {
                "summary": "Task events",
                "description": "In this example flow flow called `Delivery` there are 2 fields inside **invoice, and deliveryCoordinate**",
                "operationId": "on-task",
                "tags": [
                    "Webhook"
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/definitions/BaseTaskEvent"
                            }
                        }
                    },
                    "x-examples": {
                        "application/json": {
                            "onCreate": {
                                "summary": "Payload on task create",
                                "value": {
                                    "invoice": "INV001",
                                    "deliveryCoordinate": "-6.2407825,107.042144",
                                    "hubId": "640fc11832c0de76065d8922",
                                    "flowId": "640fc11932c0de76065d8923",
                                    "hub": {
                                        "lng": 106.79073,
                                        "_id": "640fc11832c0de76065d8922",
                                        "deleteAccess": true,
                                        "name": "Jakarta",
                                        "lat": -6.17549
                                    },
                                    "endTime": "2023-07-19T06:57:00+00:00",
                                    "assignee": [],
                                    "flow": "Delivery",
                                    "status": "UNASSIGNED",
                                    "_id": "64b4e719dc92e91ae936d664",
                                    "organizationId": "640fc0f0c53fdd421d7a8d32",
                                    "startTime": "2023-07-17T06:57:00+00:00",
                                    "createdTime": "2023-07-17T07:00:41+00:00",
                                    "updatedTime": "2023-07-17T07:00:41+00:00",
                                    "createdBy": "Jhon Web",
                                    "createdFrom": "WEB",
                                    "orderIndex": 168957724193012
                                }
                            },
                            "onAssign": {
                                "summary": "Payload on task assign",
                                "value": {
                                    "invoice": "INV001",
                                    "deliveryCoordinate": "-6.2407825,107.042144",
                                    "hubId": "640fc11832c0de76065d8922",
                                    "flowId": "640fc11932c0de76065d8923",
                                    "hub": {
                                        "lng": 106.79073,
                                        "_id": "640fc11832c0de76065d8922",
                                        "deleteAccess": true,
                                        "name": "Jakarta",
                                        "lat": -6.17549
                                    },
                                    "endTime": "2023-07-19T06:57:00+00:00",
                                    "flow": "Delivery",
                                    "status": "ONGOING",
                                    "_id": "64b4e719dc92e91ae936d664",
                                    "organizationId": "640fc0f0c53fdd421d7a8d32",
                                    "startTime": "2023-07-17T06:57:00+00:00",
                                    "createdTime": "2023-07-17T07:00:41+00:00",
                                    "updatedTime": "2023-07-17T07:00:41+00:00",
                                    "createdBy": "Jhon Web",
                                    "createdFrom": "WEB",
                                    "orderIndex": 168957724193012,
                                    "assignedBy": "Sofia Satu",
                                    "assignee": [
                                        "sofia+1@paket.id"
                                    ],
                                    "assignedTo": {
                                        "organization": null,
                                        "name": "Sofia Satu",
                                        "hubId": [
                                            "640fc11832c0de76065d8922",
                                            "640fde1a0546fe0d450ae152"
                                        ],
                                        "role": null,
                                        "_id": "640fc0f0c53fdd421d7a8d38",
                                        "email": "sofia+1@paket.id"
                                    },
                                    "assignedTime": "2023-07-17T07:05:00+00:00"
                                }
                            },
                            "onFInish": {
                                "summary": "Payload on task finish",
                                "value": {
                                    "invoice": "INV001",
                                    "deliveryCoordinate": "-6.2407825,107.042144",
                                    "hubId": "640fc11832c0de76065d8922",
                                    "flowId": "640fc11932c0de76065d8923",
                                    "hub": {
                                        "lng": 106.79073,
                                        "_id": "640fc11832c0de76065d8922",
                                        "deleteAccess": true,
                                        "name": "Jakarta",
                                        "lat": -6.17549
                                    },
                                    "endTime": "2023-07-19T06:57:00+00:00",
                                    "flow": "Delivery",
                                    "status": "DONE",
                                    "_id": "64b4e719dc92e91ae936d664",
                                    "organizationId": "640fc0f0c53fdd421d7a8d32",
                                    "startTime": "2023-07-17T06:57:00+00:00",
                                    "createdTime": "2023-07-17T07:00:41+00:00",
                                    "updatedTime": "2023-07-17T07:00:41+00:00",
                                    "createdBy": "Jhon Web",
                                    "createdFrom": "WEB",
                                    "orderIndex": 168957724193012,
                                    "assignedBy": "Sofia Satu",
                                    "assignee": [
                                        "sofia+1@paket.id"
                                    ],
                                    "assignedTo": {
                                        "organization": null,
                                        "name": "Sofia Satu",
                                        "hubId": [
                                            "640fc11832c0de76065d8922",
                                            "640fde1a0546fe0d450ae152"
                                        ],
                                        "role": null,
                                        "_id": "640fc0f0c53fdd421d7a8d38",
                                        "email": "sofia+1@paket.id"
                                    },
                                    "assignedTime": "2023-07-17T07:05:00+00:00",
                                    "doneBy": "Jhon worker",
                                    "doneTime": "2023-06-20T18:47:18+00:00"
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Return 200 status to indicate that the data was received successfully"
                    }
                }
            }
        }
    },
    "definitions": {
        "BaseTaskEvent": {
            "x-discriminator": "automationDetails",
            "type": "object",
            "properties": {
                "invoice": {
                    "type": "string",
                    "description": "A string representing the invoice number associated with the data."
                },
                "deliveryCoordinate": {
                    "type": "string",
                    "description": "A string representing the latitude and longitude of the delivery location, separated by a comma."
                },
                "hubId": {
                    "type": "string",
                    "description": "A string representing the unique identifier (ID) of the hub associated with the data."
                },
                "flowId": {
                    "type": "string",
                    "description": " A string representing the unique identifier (ID) of the flow associated with the data."
                },
                "hub": {
                    "type": "array",
                    "description": "An object containing details about the hub",
                    "items": {
                        "type": "object",
                        "properties": {
                            "lng": {
                                "type": "numeric",
                                "description": "A numerical value representing the longitude of the hub location."
                            },
                            "_id": {
                                "type": "string",
                                "description": "A string representing the unique identifier (ID) of the hub."
                            },
                            "deleteAccess": {
                                "type": "boolean",
                                "description": " A boolean value indicating whether there is delete access to the hub"
                            },
                            "name": {
                                "type": "string",
                                "description": "A string representing the name of the hub"
                            },
                            "lat": {
                                "type": "numeric",
                                "description": "A numerical value representing the latitude of the hub location."
                            }
                        }
                    }
                },
                "endTime": {
                    "type": "string",
                    "description": "A timestamp representing the end time of the delivery or expected delivery time."
                },
                "assignee": {
                    "type": "array of string",
                    "description": "An array representing the assignees associated with the delivery."
                },
                "flow": {
                    "type": "string",
                    "description": "A string representing the flow type."
                },
                "status": {
                    "type": "string",
                    "description": "A string representing the current status of the flow.",
                    "enum": [
                        "UNASSIGNED",
                        "ONGOING",
                        "DONE"
                    ]
                },
                "_id": {
                    "type": "string",
                    "description": "A string representing the unique identifier (ID) of the data."
                },
                "organizationId": {
                    "type": "string",
                    "description": "A string representing the unique identifier (ID) of the organization associated with the data."
                },
                "startTime": {
                    "type": "string",
                    "description": "A timestamp representing the start time of the delivery or expected delivery time."
                },
                "createdTime": {
                    "type": "string",
                    "description": "A timestamp representing the date and time when the data entry was created."
                },
                "updatedTime": {
                    "type": "string",
                    "description": "A timestamp representing the date and time when the data entry was last updated."
                },
                "createdBy": {
                    "type": "string",
                    "description": "A string representing the name or identifier of the user who created the data entry."
                },
                "createdFrom": {
                    "type": "string",
                    "description": "A string representing the source from which the data entry was created.",
                    "enum": [
                        "WEB",
                        "API"
                    ]
                }
            }
        },
        "onCreate": {
            "allOf": [
                {
                    "$ref": "#/definitions/BaseTaskEvent"
                },
                {
                    "properties": {
                        "orderIndex": {
                            "type": "integer",
                            "description": "A numerical value representing the order index associated with the data"
                        }
                    }
                }
            ]
        },
        "onAssign": {
            "allOf": [
                {
                    "$ref": "#/definitions/BaseTaskEvent"
                },
                {
                    "properties": {
                        "orderIndex": {
                            "type": "integer",
                            "description": "A numerical value representing the order index associated with the data"
                        },
                        "assignedBy": {
                            "description": "A string representing the name or identifier of the person who assigned the task.",
                            "type": "string"
                        },
                        "assignee": {
                            "description": "An array containing the email addresses or identifiers of the users who have been assigned the task.",
                            "type": "array of string"
                        },
                        "assignedTo": {
                            "description": "An object containing details about the person or entity to whom the task has been assigned.",
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "description": "A string representing the name of the person to whom the task has been assigned. In this data.",
                                        "type": "array"
                                    },
                                    "hubId": {
                                        "description": "An array of unique identifiers (IDs) representing the hubs or locations associated with the assignment.",
                                        "type": "array of string"
                                    },
                                    "_id": {
                                        "description": "A unique identifier (ID) representing the person to whom the task has been assigned.",
                                        "type": "string"
                                    },
                                    "email": {
                                        "description": " A string representing the email address of the person to whom the task has been assigned.",
                                        "type": "string"
                                    }
                                }
                            }
                        },
                        "assignedTime": {
                            "description": "A timestamp representing the date and time when the task was assigned.",
                            "type": "string"
                        }
                    }
                }
            ]
        },
        "onFinish": {
            "allOf": [
                {
                    "$ref": "#/definitions/BaseTaskEvent"
                },
                {
                    "properties": {
                        "orderIndex": {
                            "type": "integer",
                            "description": "A numerical value representing the order index associated with the data"
                        },
                        "assignedBy": {
                            "description": "A string representing the name or identifier of the person who assigned the task.",
                            "type": "string"
                        },
                        "assignee": {
                            "description": "An array containing the email addresses or identifiers of the users who have been assigned the task.",
                            "type": "array of string"
                        },
                        "assignedTo": {
                            "description": "An object containing details about the person or entity to whom the task has been assigned.",
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "name": {
                                        "description": "A string representing the name of the person to whom the task has been assigned. In this data.",
                                        "type": "array"
                                    },
                                    "hubId": {
                                        "description": "An array of unique identifiers (IDs) representing the hubs or locations associated with the assignment.",
                                        "type": "array of string"
                                    },
                                    "_id": {
                                        "description": "A unique identifier (ID) representing the person to whom the task has been assigned.",
                                        "type": "string"
                                    },
                                    "email": {
                                        "description": " A string representing the email address of the person to whom the task has been assigned.",
                                        "type": "string"
                                    }
                                }
                            }
                        },
                        "assignedTime": {
                            "description": "A timestamp representing the date and time when the task was assigned.",
                            "type": "string"
                        },
                        "doneBy": {
                            "description": "A string representing the name or identifier of the person who completed the action.",
                            "type": "string"
                        },
                        "doneTime": {
                            "description": "A timestamp representing the date and time when the action was completed or 'DONE'.",
                            "type": "string"
                        }
                    }
                }
            ]
        }
    }
}